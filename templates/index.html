<!doctype html>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Algebrator</title>

  </head>
  <body>
    <h1>Algebrator</h1>
    <br>
    <br>
    <span id="left-side">
    	<span id="a" class="variable">{{ a }}</span>x 
    	+ 
    	<span id="b" class="variable">{{ b }}</span>
    </span>
    	= 
    <span id="right-side">
    	<span id="c" class="variable">{{ c }}</span>
    </span>
    <br>
    <br>
	<button class="btn btn-lg btn-default" onclick="add()">+</button>
	<button class="btn btn-lg btn-default" onclick="subtract()">-</button>
	<button class="btn btn-lg btn-default" onclick="multiply()">*</button>
	<button class="btn btn-lg btn-default" onclick="divide()">/</button>
	<br>
	<script>
		a = parseInt($('#a').text())
		b = parseInt($('#b').text())
		c = parseInt($('#c').text())

		function add(){
			$('.variable').attr("onclick", "add_variable(this)")
			$('.variable').attr("style", "background:cyan")
		}

		function subtract(){
			$('.variable').attr("onclick", "subtract_variable(this)")
			$('.variable').attr("style", "background:cyan")
		}

		function multiply(){
			$('.variable').attr("onclick", "mult_div('*', this)")
			$('.variable').attr("style", "background:cyan")
		}

		function divide(){
			$('.variable').attr("onclick", "mult_div('/', this)")
			$('.variable').attr("style", "background:cyan")
		}

		function add_variable(clicked){
			v = $(clicked).text()
			$('#left-side').append("+ <span class='variable'>" + v + "</span> ")
			$('#right-side').append("+ <span class='variable'>" + v + "</span> ")
			$('.variable').attr("style", "background:white")
		}

		function subtract_variable(clicked){
			v = $(clicked).text()
			$('#left-side').append("- <span class='variable'>" + v + "</span> ")
			$('#right-side').append("- <span class='variable'>" + v + "</span> ")
			$('.variable').attr("style", "background:white")
		}

		function mult_div(op, clicked){
			v = $(clicked).text()

			// put parentheses around left side and right side
			$('#left-side').prepend('(')
			$('#right-side').prepend('(')

			$('#right-side').append(')')
			$('#left-side').append(')')
			// add * v to each side

			$('#left-side').append(op + ' <span class="variable">' + v + '</span>')
			$('#right-side').append(op + ' <span class="variable">' + v + '</span>')

			$('.variable').attr("style", "background:white")

		}

		function divide_variable(clicked){

		}
	</script>
  </body>
</html>